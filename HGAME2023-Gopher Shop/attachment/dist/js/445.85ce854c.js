"use strict";(self["webpackChunkGopherShop"]=self["webpackChunkGopherShop"]||[]).push([[445],{1445:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var o=s(4991);function i(e,t,s,i,r,a){const l=(0,o.up)("LoginForm");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(l)])}const r=e=>((0,o.dD)("data-v-5fedfafa"),e=e(),(0,o.Cn)(),e),a={class:"login-container"},l={class:"form-container"},n=r((()=>(0,o._)("div",{class:"title-bar"},[(0,o._)("h1",{class:"title",style:{"text-align":"center"}},"Gopher Shop")],-1)));function u(e,t,s,i,r,u){const m=(0,o.up)("el-input"),c=(0,o.up)("el-form-item"),p=(0,o.up)("el-button"),d=(0,o.up)("el-form");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",l,[n,(0,o.Wm)(d,{ref:"form",model:r.form,"label-width":"80px"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{label:"Username"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:r.form.username,"onUpdate:modelValue":t[0]||(t[0]=e=>r.form.username=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(c,{label:"Password"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:r.form.password,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.password=e),type:"password"},null,8,["modelValue"])])),_:1}),r.isSignUp?((0,o.wg)(),(0,o.j4)(c,{key:1},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{onClick:u.switchToSignUp},{default:(0,o.w5)((()=>[(0,o.Uk)("Back to Login")])),_:1},8,["onClick"]),(0,o.Wm)(p,{class:"el-button--primary",type:"primary",onClick:u.submitForm},{default:(0,o.w5)((()=>[(0,o.Uk)("Register")])),_:1},8,["onClick"])])),_:1})):((0,o.wg)(),(0,o.j4)(c,{key:0},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{onClick:u.switchToSignUp},{default:(0,o.w5)((()=>[(0,o.Uk)("To Register")])),_:1},8,["onClick"]),(0,o.Wm)(p,{class:"el-button--primary",type:"primary",onClick:u.submitForm},{default:(0,o.w5)((()=>[(0,o.Uk)("Login")])),_:1},8,["onClick"])])),_:1}))])),_:1},8,["model"])])])}s(768);var m=s(1611),c=s(1715),p={data(){return{form:{username:"",password:""},isSignUp:!1}},methods:{submitForm(){this.isSignUp?m.Z.post("/api/v1/auth/register",this.form).then((()=>{(0,c.bM)({title:"Success",message:"Register successfully",type:"success"}),this.isSignUp=!1})).catch((e=>{(0,c.bM)({title:"Error",message:"Register failed:"+e,type:"error"})})):m.Z.post("/api/v1/auth/login",this.form).then((()=>{(0,c.bM)({title:"Success",message:"Login successfully",type:"success"}),this.$router.push("/shop")})).catch((e=>{(0,c.bM)({title:"Error",message:"Login failed:"+e,type:"error"})}))},switchToSignUp(){this.isSignUp=!this.isSignUp}}},d=s(2803);const f=(0,d.Z)(p,[["render",u],["__scopeId","data-v-5fedfafa"]]);var g=f,h={name:"LoginView",components:{LoginForm:g}};const w=(0,d.Z)(h,[["render",i]]);var k=w}}]);
//# sourceMappingURL=445.85ce854c.js.map